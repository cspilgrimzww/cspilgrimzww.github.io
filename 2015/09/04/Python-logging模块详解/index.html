<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
***************  *      *     *
      8          *    *       *
      8          *  *         *
      8          **           *
      8          *  *         *
      8          *    *       *
      8          *      *     *
      8          *        *   ***********    -----Theme By Kieran(http://go.kieran.top)
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<!--<![endif]-->

<head>
  <title>Python logging模块详解 | Weiwei Zhong&#39;s blog</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Weiwei Zhong's blog">
    <meta name="author" content="钟蔚蔚">
    <meta name="description" content="Tyrion" />
    <meta name="keywords" content="" />

    <!-- Favicon, (keep icon in root folder) -->
    <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

    <link rel="alternate" href="/atom.xml" title="Weiwei Zhong&#39;s blog" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
	
    <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">
    
    

    <!-- Custom stylesheet, (add custom styles here, always load last) -->
    <!-- Load our stylesheet for IE8 -->
    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- Google Webfonts (Monserrat 400/700, Open Sans 400/600) -->
    <link href='//fonts.useso.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='//fonts.useso.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'>

    <!-- Load our fonts individually if IE8+, to avoid faux bold & italic rendering -->
    <!--[if IE]>
    <link href='http://fonts.useso.com/css?family=Montserrat:400' rel='stylesheet' type='text/css'>
    <link href='http://fonts.useso.com/css?family=Montserrat:700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.useso.com/css?family=Open+Sans:400' rel='stylesheet' type='text/css'>
    <link href='http://fonts.useso.com/css?family=Open+Sans:600' rel='stylesheet' type='text/css'>
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->










  
  
  

  
  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu">
            <li><a href="/" class="animsition-link" title="Home">Home</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">archives</a></li>
            <!-- Dropdown Menu -->
			 
            <li>
                <a class="sb-toggle-submenu">Works<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                        <li><a href="http://www.nodebeginner.org/index-zh-cn.html" target="_BLANK" class="animsition-link">node</a></li>
                    
                        <li><a href="http://dillinger.io/" target="_BLANK" class="animsition-link">Online Markdown Editor</a></li>
                    
                        <li><a href="http://nvie.com/posts/a-successful-git-branching-model/" target="_BLANK" class="animsition-link">A successful Git branching model</a></li>
                    
                </ul>
            </li>
            
            
            
            <li>
                <a class="sb-toggle-submenu">Links<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                    <li><a href="http://blog.liqilei.com/" class="animsition-link">Qilei Li</a></li>
                    
                    <li><a href="http://go.kieran.top/" class="animsition-link">Kieran</a></li>
                    
                    <li><a href="http://pangjiuzala.github.io/" class="animsition-link">Xing Liu</a></li>
                    
                    <li><a href="http://www.changhuiyuan.com/" class="animsition-link">Huiyuan Chang</a></li>
                    
                    <li><a href="http://www.jianshu.com/users/2e5186b9dd1c/latest_articles" class="animsition-link">Ke Xu</a></li>
                    
                    <li><a href="http://45.55.234.101/resume/" class="animsition-link">resume</a></li>
                    
                </ul>
            </li>
            
        </ul>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu secondary">
            <li><a href="/about.html" class="animsition-link" title="about">About</a></li>
            <li><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></li>
        </ul>
    </div>
    
    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                         <img src="/img/profile.png" alt="Logo" width="35px;"/> 
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/" class="animsition-link">Weiwei Zhong's blog</a></li>
                            <li class="nolink"><span>Always </span>Creative.</li>
                            
                            <li><a href="https://github.com/cspilgrimzww" title="Github" target="_blank"><i class="icon-github"></i></a></li>
                            
                            
                            
                            
                            
                            <li class="nolink"><span>Welcome!</span></li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">More</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->

        <!-- ============================ Hero Image =========================== -->

        <section id="hero" class="scrollme">
            <div class="container-fluid element-img" style="background: url(/img/bg_img.jpg) no-repeat center center fixed;background-size: cover">
                <div class="row">
                    <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-8 col-md-offset-2 vertical-align cover boost text-center">
                        <div class="center-me animateme" data-when="exit" data-from="0" data-to="0.6" data-opacity="0" data-translatey="100">
                            <div>
                            	
                                <h2>YOU'VE MADE A <span>BRAVE</span> DECISION, WELCOME.</h2>
                                <p></p>
				    			
                                <h2></h2>
                                <p>A LITTLE BIT MORE FAST,A LITTLE BIT MORE STRONG。</p>
				    			

                            </div>
                        </div>
                    </div>
                    <!-- // .col-md-12 -->
                </div>
                <div class="herofade beige-dk"></div>
            </div>
        </section>

        <!-- Height spacing helper -->
        <div class="heightblock"></div>
        <!-- // End height spacing helper -->

        <!-- ============================ END Hero Image =========================== -->
      
<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2015-09-04T14:55:32.000Z" itemprop="datePublished">
          2015-09-04
      </time>
    
    
    | 
    <a href='/tags/Python-Log/'>Python Log</a>
    
    
</span>
                <h1>Python logging模块详解</h1>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
      		<p>一、简单将日志打印到屏幕：</p>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[<span class="name">python</span>] view </span><br><span class="line">import logging  </span><br><span class="line">logging.debug(<span class="symbol">'debug</span> message')  </span><br><span class="line">logging.info(<span class="symbol">'info</span> message')  </span><br><span class="line">logging.warning(<span class="symbol">'warning</span> message')  </span><br><span class="line">logging.error(<span class="symbol">'error</span> message')  </span><br><span class="line">logging.critical(<span class="symbol">'critical</span> message')</span><br></pre></td></tr></table></figure>
<p>输出：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">WARNING</span><span class="selector-pseudo">:root</span><span class="selector-pseudo">:warning</span> <span class="selector-tag">message</span></span><br><span class="line"><span class="selector-tag">ERROR</span><span class="selector-pseudo">:root</span><span class="selector-pseudo">:error</span> <span class="selector-tag">message</span></span><br><span class="line"><span class="selector-tag">CRITICAL</span><span class="selector-pseudo">:root</span><span class="selector-pseudo">:critical</span> <span class="selector-tag">message</span></span><br></pre></td></tr></table></figure></p>
<p>可见，默认情况下python的logging模块将日志打印到了标准输出中，且只显示了大于等于WARNING级别的日志，<br>这说明默认的日志级别设置为WARNING（日志级别等级CRITICAL &gt; ERROR &gt; WARNING &gt; INFO &gt; DEBUG &gt; NOTSET），<br>默认的日志格式为:<br>     日志级别：Logger名称：用户输出消息。<br>二、灵活配置日志级别，日志格式，输出位置<br><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[<span class="name">python</span>] view </span><br><span class="line">import logging  </span><br><span class="line">logging.basicConfig(<span class="name">level=logging.DEBUG</span>,  </span><br><span class="line">                    format=<span class="symbol">'%</span>(<span class="name">asctime</span>)s %(<span class="name">filename</span>)s[<span class="name">line:%</span>(<span class="name">lineno</span>)d] %(<span class="name">levelname</span>)s %(<span class="name">message</span>)s',  </span><br><span class="line">                    datefmt=<span class="symbol">'%a</span>, %d %b %Y %H:%M:%S',  </span><br><span class="line">                    filename=<span class="symbol">'/tmp/test.log</span>',  </span><br><span class="line">                    filemode=<span class="symbol">'w</span>')  </span><br><span class="line">  </span><br><span class="line">logging.debug(<span class="symbol">'debug</span> message')  </span><br><span class="line">logging.info(<span class="symbol">'info</span> message')  </span><br><span class="line">logging.warning(<span class="symbol">'warning</span> message')  </span><br><span class="line">logging.error(<span class="symbol">'error</span> message')  </span><br><span class="line">logging.critical(<span class="symbol">'critical</span> message')</span><br></pre></td></tr></table></figure></p>
<p>查看输出：<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cat</span> /tmp/test.<span class="built_in">log</span> </span><br><span class="line">Mon, <span class="number">05</span> May <span class="number">2014</span> <span class="number">16</span>:<span class="number">29</span>:<span class="number">53</span> test_logging.<span class="keyword">py</span>[<span class="built_in">line</span>:<span class="number">9</span>] DEBUG <span class="keyword">debug</span> message</span><br><span class="line">Mon, <span class="number">05</span> May <span class="number">2014</span> <span class="number">16</span>:<span class="number">29</span>:<span class="number">53</span> test_logging.<span class="keyword">py</span>[<span class="built_in">line</span>:<span class="number">10</span>] INFO info message</span><br><span class="line">Mon, <span class="number">05</span> May <span class="number">2014</span> <span class="number">16</span>:<span class="number">29</span>:<span class="number">53</span> test_logging.<span class="keyword">py</span>[<span class="built_in">line</span>:<span class="number">11</span>] WARNING warning message</span><br><span class="line">Mon, <span class="number">05</span> May <span class="number">2014</span> <span class="number">16</span>:<span class="number">29</span>:<span class="number">53</span> test_logging.<span class="keyword">py</span>[<span class="built_in">line</span>:<span class="number">12</span>] ERROR error message</span><br><span class="line">Mon, <span class="number">05</span> May <span class="number">2014</span> <span class="number">16</span>:<span class="number">29</span>:<span class="number">53</span> test_logging.<span class="keyword">py</span>[<span class="built_in">line</span>:<span class="number">13</span>] CRITICAL critical message</span><br></pre></td></tr></table></figure></p>
<p>可见在logging.basicConfig()函数中可通过具体参数来更改logging模块默认行为，可用参数有<br>filename：   用指定的文件名创建FiledHandler（后边会具体讲解handler的概念），这样日志会被存储在指定的文件中。<br>filemode：   文件打开方式，在指定了filename时使用这个参数，默认值为“a”还可指定为“w”。<br>format：      指定handler使用的日志显示格式。<br>datefmt：    指定日期时间格式。<br>level：        设置rootlogger（后边会讲解具体概念）的日志级别<br>stream：     用指定的stream创建StreamHandler。可以指定输出到sys.stderr,sys.stdout或者文件，默认为sys.stderr。<br>                  若同时列出了filename和stream两个参数，则stream参数会被忽略。</p>
<p>format参数中可能用到的格式化串：<br>%(name)s             Logger的名字<br>%(levelno)s          数字形式的日志级别<br>%(levelname)s     文本形式的日志级别<br>%(pathname)s     调用日志输出函数的模块的完整路径名，可能没有<br>%(filename)s        调用日志输出函数的模块的文件名<br>%(module)s          调用日志输出函数的模块名<br>%(funcName)s     调用日志输出函数的函数名<br>%(lineno)d           调用日志输出函数的语句所在的代码行<br>%(created)f          当前时间，用UNIX标准的表示时间的浮 点数表示<br>%(relativeCreated)d    输出日志信息时的，自Logger创建以 来的毫秒数<br>%(asctime)s                字符串形式的当前时间。默认格式是 “2003-07-08 16:49:45,896”。逗号后面的是毫秒<br>%(thread)d                 线程ID。可能没有<br>%(threadName)s        线程名。可能没有<br>%(process)d              进程ID。可能没有<br>%(message)s            用户输出的消息</p>
<p>若要对logging进行更多灵活的控制有必要了解一下<br>三、 Logger，Handler，Formatter，Filter的概念<br>上述几个例子中我们了解到了logging.debug()、logging.info()、logging.warning()、logging.error()、logging.critical()（分别用以记录不同级别的日志信息），<br>logging.basicConfig()（用默认日志格式（Formatter）为日志系统建立一个默认的流处理器（StreamHandler），<br>设置基础配置（如日志级别等）并加到root logger（根Logger）中）这几个logging模块级别的函数，<br>另外还有一个模块级别的函数是logging.getLogger([name])（返回一个logger对象，如果没有指定名字将返回root logger）</p>
<p>先看一个具体的例子<br><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">[<span class="name">python</span>] view </span><br><span class="line">#coding:utf-8  </span><br><span class="line">import logging  </span><br><span class="line">  </span><br><span class="line"># 创建一个logger    </span><br><span class="line">logger = logging.getLogger()  </span><br><span class="line">  </span><br><span class="line">logger1 = logging.getLogger(<span class="symbol">'mylogger</span>')  </span><br><span class="line">logger1.setLevel(<span class="name">logging.DEBUG</span>)  </span><br><span class="line">  </span><br><span class="line">logger2 = logging.getLogger(<span class="symbol">'mylogger</span>')  </span><br><span class="line">logger2.setLevel(<span class="name">logging.INFO</span>)  </span><br><span class="line">  </span><br><span class="line">logger3 = logging.getLogger(<span class="symbol">'mylogger.child1</span>')  </span><br><span class="line">logger3.setLevel(<span class="name">logging.WARNING</span>)  </span><br><span class="line">  </span><br><span class="line">logger4 = logging.getLogger(<span class="symbol">'mylogger.child1.child2</span>')  </span><br><span class="line">logger4.setLevel(<span class="name">logging.DEBUG</span>)  </span><br><span class="line">  </span><br><span class="line">logger5 = logging.getLogger(<span class="symbol">'mylogger.child1.child2.child3</span>')  </span><br><span class="line">logger5.setLevel(<span class="name">logging.DEBUG</span>)  </span><br><span class="line">  </span><br><span class="line"># 创建一个handler，用于写入日志文件    </span><br><span class="line">fh = logging.FileHandler(<span class="symbol">'/tmp/test.log</span>')  </span><br><span class="line">  </span><br><span class="line"># 再创建一个handler，用于输出到控制台    </span><br><span class="line">ch = logging.StreamHandler()  </span><br><span class="line">  </span><br><span class="line"># 定义handler的输出格式formatter    </span><br><span class="line">formatter = logging.Formatter(<span class="symbol">'%</span>(<span class="name">asctime</span>)s - %(<span class="name">name</span>)s - %(<span class="name">levelname</span>)s - %(<span class="name">message</span>)s')  </span><br><span class="line">fh.setFormatter(<span class="name">formatter</span>)  </span><br><span class="line">ch.setFormatter(<span class="name">formatter</span>)  </span><br><span class="line">  </span><br><span class="line">#定义一个filter  </span><br><span class="line"><span class="literal">#f</span>ilter = logging.Filter(<span class="symbol">'mylogger.child1.child2</span>')  </span><br><span class="line"><span class="literal">#f</span>h.addFilter(<span class="name">filter</span>)    </span><br><span class="line">  </span><br><span class="line"># 给logger添加handler    </span><br><span class="line">#logger.addFilter(<span class="name">filter</span>)  </span><br><span class="line">logger.addHandler(<span class="name">fh</span>)  </span><br><span class="line">logger.addHandler(<span class="name">ch</span>)  </span><br><span class="line">  </span><br><span class="line">#logger1.addFilter(<span class="name">filter</span>)  </span><br><span class="line">logger1.addHandler(<span class="name">fh</span>)  </span><br><span class="line">logger1.addHandler(<span class="name">ch</span>)  </span><br><span class="line">  </span><br><span class="line">logger2.addHandler(<span class="name">fh</span>)  </span><br><span class="line">logger2.addHandler(<span class="name">ch</span>)  </span><br><span class="line">  </span><br><span class="line">#logger3.addFilter(<span class="name">filter</span>)  </span><br><span class="line">logger3.addHandler(<span class="name">fh</span>)  </span><br><span class="line">logger3.addHandler(<span class="name">ch</span>)  </span><br><span class="line">  </span><br><span class="line">#logger4.addFilter(<span class="name">filter</span>)  </span><br><span class="line">logger4.addHandler(<span class="name">fh</span>)  </span><br><span class="line">logger4.addHandler(<span class="name">ch</span>)  </span><br><span class="line">  </span><br><span class="line">logger5.addHandler(<span class="name">fh</span>)  </span><br><span class="line">logger5.addHandler(<span class="name">ch</span>)  </span><br><span class="line">  </span><br><span class="line"># 记录一条日志    </span><br><span class="line">logger.debug(<span class="symbol">'logger</span> debug message')  </span><br><span class="line">logger.info(<span class="symbol">'logger</span> info message')  </span><br><span class="line">logger.warning(<span class="symbol">'logger</span> warning message')  </span><br><span class="line">logger.error(<span class="symbol">'logger</span> error message')  </span><br><span class="line">logger.critical(<span class="symbol">'logger</span> critical message')  </span><br><span class="line">  </span><br><span class="line">logger1.debug(<span class="symbol">'logger1</span> debug message')  </span><br><span class="line">logger1.info(<span class="symbol">'logger1</span> info message')  </span><br><span class="line">logger1.warning(<span class="symbol">'logger1</span> warning message')  </span><br><span class="line">logger1.error(<span class="symbol">'logger1</span> error message')  </span><br><span class="line">logger1.critical(<span class="symbol">'logger1</span> critical message')  </span><br><span class="line">  </span><br><span class="line">logger2.debug(<span class="symbol">'logger2</span> debug message')  </span><br><span class="line">logger2.info(<span class="symbol">'logger2</span> info message')  </span><br><span class="line">logger2.warning(<span class="symbol">'logger2</span> warning message')  </span><br><span class="line">logger2.error(<span class="symbol">'logger2</span> error message')  </span><br><span class="line">logger2.critical(<span class="symbol">'logger2</span> critical message')  </span><br><span class="line">  </span><br><span class="line">logger3.debug(<span class="symbol">'logger3</span> debug message')  </span><br><span class="line">logger3.info(<span class="symbol">'logger3</span> info message')  </span><br><span class="line">logger3.warning(<span class="symbol">'logger3</span> warning message')  </span><br><span class="line">logger3.error(<span class="symbol">'logger3</span> error message')  </span><br><span class="line">logger3.critical(<span class="symbol">'logger3</span> critical message')  </span><br><span class="line">  </span><br><span class="line">logger4.debug(<span class="symbol">'logger4</span> debug message')  </span><br><span class="line">logger4.info(<span class="symbol">'logger4</span> info message')  </span><br><span class="line">logger4.warning(<span class="symbol">'logger4</span> warning message')  </span><br><span class="line">logger4.error(<span class="symbol">'logger4</span> error message')  </span><br><span class="line">logger4.critical(<span class="symbol">'logger4</span> critical message')  </span><br><span class="line">  </span><br><span class="line">logger5.debug(<span class="symbol">'logger5</span> debug message')  </span><br><span class="line">logger5.info(<span class="symbol">'logger5</span> info message')  </span><br><span class="line">logger5.warning(<span class="symbol">'logger5</span> warning message')  </span><br><span class="line">logger5.error(<span class="symbol">'logger5</span> error message')  </span><br><span class="line">logger5.critical(<span class="symbol">'logger5</span> critical message')</span><br></pre></td></tr></table></figure></p>
<p>输出：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,222 <span class="selector-tag">-</span> <span class="selector-tag">root</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,223 <span class="selector-tag">-</span> <span class="selector-tag">root</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,224 <span class="selector-tag">-</span> <span class="selector-tag">root</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,224 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger1</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,224 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger1</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,225 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger1</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,225 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger1</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,226 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger1</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,226 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger1</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,227 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger1</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,227 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger1</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,228 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger2</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,228 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger2</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,229 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger2</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,229 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger2</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,230 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger2</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,230 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger2</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,231 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger2</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,231 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger2</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,232 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger3</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,232 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger3</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,232 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger3</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,234 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger3</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,234 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger3</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,234 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger3</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,235 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger3</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,235 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger3</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,235 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger3</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,237 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,237 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,237 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,237 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,239 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,239 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,239 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,239 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,240 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,240 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,240 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,240 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,242 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,242 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,242 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,242 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,243 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,243 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,243 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,243 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,244 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,244 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,244 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,244 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,244 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,246 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,246 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,246 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,246 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,246 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,247 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,247 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,247 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,247 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,247 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,249 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,249 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,249 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,249 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,249 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,250 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,250 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,250 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,250 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,250 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br></pre></td></tr></table></figure>
<p>先简单介绍一下，logging库提供了多个组件：Logger、Handler、Filter、Formatter。<br>Logger       对象提供应用程序可直接使用的接口，<br>Handler      发送日志到适当的目的地，<br>Filter          提供了过滤日志信息的方法，<br>Formatter   指定日志显示格式。</p>
<ol>
<li>Logger<br>Logger是一个树形层级结构，输出信息之前都要获得一个Logger（如果没有显示的获取则自动创建并使用root Logger，如第一个例子所示）。<br>logger = logging.getLogger()    返回一个默认的Logger也即root Logger，并应用默认的日志级别、Handler和Formatter设置。<br>当然也可以通过Logger.setLevel(lel)指定最低的日志级别，可用的日志级别有：<br>logging.DEBUG、logging.INFO、logging.WARNING、logging.ERROR、logging.CRITICAL。<br>Logger.debug()、Logger.info()、Logger.warning()、Logger.error()、Logger.critical()<br>输出不同级别的日志，只有日志等级大于或等于设置的日志级别的日志才会被输出。</li>
</ol>
<p>我们看到程序中<br><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="name">python</span>] view </span><br><span class="line">logger.debug(<span class="symbol">'logger</span> debug message')  </span><br><span class="line">logger.info(<span class="symbol">'logger</span> info message')  </span><br><span class="line">logger.warning(<span class="symbol">'logger</span> warning message')  </span><br><span class="line">logger.error(<span class="symbol">'logger</span> error message')  </span><br><span class="line">logger.critical(<span class="symbol">'logger</span> critical message')</span><br></pre></td></tr></table></figure></p>
<p>只输出了<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,222 <span class="selector-tag">-</span> <span class="selector-tag">root</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,223 <span class="selector-tag">-</span> <span class="selector-tag">root</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 12<span class="selector-pseudo">:54</span><span class="selector-pseudo">:43</span>,224 <span class="selector-tag">-</span> <span class="selector-tag">root</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br></pre></td></tr></table></figure></p>
<p>从这个输出可以看出logger = logging.getLogger()返回的Logger名为root。<br>这里没有用logger.setLevel()显示的为logger设置日志级别，所以使用默认的日志级别WARNIING，<br>故结果只输出了大于等于WARNIING级别的信息。</p>
<p>另外，我们明明通过  logger1.setLevel(logging.DEBUG)  将logger1的日志级别设置为了DEBUG，<br>为何显示的时候没有显示出DEBUG级别的日志信息，而是从INFO级别的日志开始显示呢？</p>
<p>原来logger1和logger2对应的是同一个Logger实例，<br>只要logging.getLogger（name）中名称参数name相同则返回的Logger实例就是同一个，且仅有一个，也即name与Logger实例一一对应。<br>在logger2实例中通过logger2.setLevel(logging.INFO)设置mylogger的日志级别为logging.INFO，<br>所以最后logger1的输出遵从了后来设置的日志级别。<br><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="name">python</span>] view </span><br><span class="line">logger1 = logging.getLogger(<span class="symbol">'mylogger</span>')  </span><br><span class="line">logger1.setLevel(<span class="name">logging.DEBUG</span>)  </span><br><span class="line">logger2 = logging.getLogger(<span class="symbol">'mylogger</span>')  </span><br><span class="line">logger2.setLevel(<span class="name">logging.INFO</span>)</span><br></pre></td></tr></table></figure></p>
<p>为什么logger1、logger2对应的每个输出分别显示两次，logger3对应的输出显示3次，logger4对应的输出显示4次……呢？<br>这是因为我们通过logger = logging.getLogger()显示的创建了root Logger，<br>而logger1 = logging.getLogger(‘mylogger’)创建了root Logger的孩子(root.)mylogger,logger2同样。</p>
<p>logger3 = logging.getLogger(‘mylogger.child1’)创建了(root.)mylogger.child1<br>logger4 = logging.getLogger(‘mylogger.child1.child2’)创建了(root.)mylogger.child1.child2<br>logger5 = logging.getLogger(‘mylogger.child1.child2.child3’)创建了(root.)mylogger.child1.child2.child3<br>而孩子,孙子，重孙……既会将消息分发给他的handler进行处理也会传递给所有的祖先Logger处理。</p>
<p>试着注释掉如下一行程序，观察程序输出<br>[python] view </p>
<p>#logger.addHandler(fh)<br>发现标准输出中每条记录对应两行（因为root Logger默认使用StreamHandler）<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:10</span><span class="selector-pseudo">:10</span>,980 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger1</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:10</span><span class="selector-pseudo">:10</span>,980 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger1</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:10</span><span class="selector-pseudo">:10</span>,981 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger1</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:10</span><span class="selector-pseudo">:10</span>,981 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger1</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:10</span><span class="selector-pseudo">:10</span>,982 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger1</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:10</span><span class="selector-pseudo">:10</span>,982 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger1</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:10</span><span class="selector-pseudo">:10</span>,984 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger1</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:10</span><span class="selector-pseudo">:10</span>,984 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger1</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br></pre></td></tr></table></figure></p>
<p>……<br>而在文件输出中每条记录对应一行（因为我们注释掉了logger.addHandler(fh)，没有对root Logger启用FileHandler）<br>2014-05-06 15:10:10,980 - mylogger - INFO - logger1 info message<br>2014-05-06 15:10:10,981 - mylogger - WARNING - logger1 warning message<br>2014-05-06 15:10:10,982 - mylogger - ERROR - logger1 error message<br>2014-05-06 15:10:10,984 - mylogger - CRITICAL - logger1 critical message</p>
<p>孩子,孙子，重孙……可逐层继承来自祖先的日志级别、Handler、Filter设置，<br>也可以通过Logger.setLevel(lel)、Logger.addHandler(hdlr)、Logger.removeHandler(hdlr)、Logger.addFilter(filt)、Logger.removeFilter(filt)。<br>设置自己特别的日志级别、Handler、Filter。若不设置则使用继承来的值。</p>
<ol>
<li>Handler<br>上述例子的输出在标准输出和指定的日志文件中均可以看到，这是因为我们定义并使用了两种Handler。<br>[python] view<br>fh = logging.FileHandler(‘/tmp/test.log’)<br>ch = logging.StreamHandler()<br>Handler对象负责发送相关的信息到指定目的地，有几个常用的Handler方法：<br>Handler.setLevel(lel):        指定日志级别，低于lel级别的日志将被忽略<br>Handler.setFormatter()：  给这个handler选择一个Formatter<br>Handler.addFilter(filt)、Handler.removeFilter(filt)：新增或删除一个filter对象</li>
</ol>
<p>可以通过addHandler()方法为Logger添加多个Handler：<br>[python] view plaincopy在CODE上查看代码片派生到我的代码片<br>logger.addHandler(fh)<br>logger.addHandler(ch)  </p>
<p>有多中可用的Handler：<br>logging.StreamHandler          可以向类似与sys.stdout或者sys.stderr的任何文件对象(file object)输出信息<br>logging.FileHandler                用于向一个文件输出日志信息<br>logging.handlers.RotatingFileHandler        类似于上面的FileHandler，但是它可以管理文件大小。<br>                                                                  当文件达到一定大小之后，它会自动将当前日志文件改名，然后创建一个新的同名日志文件继续输出<br>logging.handlers.TimedRotatingFileHandler 和RotatingFileHandler类似，不过，它没有通过判断文件大小来决定何时重新创建日志文件，而是间隔一定时间就自动创建新的日志文件<br>logging.handlers.SocketHandler                  使用TCP协议，将日志信息发送到网络。<br>logging.handlers.DatagramHandler             使用UDP协议，将日志信息发送到网络。<br>logging.handlers.SysLogHandler                 日志输出到syslog<br>logging.handlers.NTEventLogHandler         远程输出日志到Windows NT/2000/XP的事件日志<br>logging.handlers.SMTPHandler                   远程输出日志到邮件地址<br>logging.handlers.MemoryHandler                日志输出到内存中的制定buffer<br>logging.handlers.HTTPHandler                    通过”GET”或”POST”远程输出到HTTP服务器<br>各个Handler的具体用法可查看参考书册：<br><a href="https://docs.python.org/2/library/logging.handlers.html#module-logging.handlers" target="_blank" rel="external">https://docs.python.org/2/library/logging.handlers.html#module-logging.handlers</a></p>
<ol>
<li><p>Formatter<br>Formatter对象设置日志信息最后的规则、结构和内容，默认的时间格式为%Y-%m-%d %H:%M:%S。<br>[python] view plaincopy在CODE上查看代码片派生到我的代码片<br>#定义Formatter<br>formatter = logging.Formatter(‘%(asctime)s - %(name)s - %(levelname)s - %(message)s’)<br>#为Handler添加Formatter<br>fh.setFormatter(formatter)<br>ch.setFormatter(formatter)<br>Formatter参数中可能用到的格式化串参见上文（logging.basicConfig()函数format参数中可能用到的格式化串：）</p>
</li>
<li><p>Filter<br>限制只有满足过滤规则的日志才会输出。<br>比如我们定义了filter = logging.Filter(‘a.b.c’),并将这个Filter添加到了一个Handler上，<br>则使用该Handler的Logger中只有名字带a.b.c前缀的Logger才能输出其日志。</p>
</li>
</ol>
<p>取消下列两行程序的注释<br>[python] view plaincopy在CODE上查看代码片派生到我的代码片</p>
<p>#filter = logging.Filter(‘mylogger.child1.child2’)  </p>
<p>#fh.addFilter(filter)<br>标准输出中输出结果并没有发生变化，但日志文件输出中只显示了如下内容：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,227 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,227 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,227 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,227 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,228 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,228 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,228 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,228 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,230 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,230 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,230 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,230 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,232 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,232 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,232 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,232 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,233 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,233 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,233 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,233 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,235 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,235 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,235 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,235 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,235 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,236 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,236 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,236 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,236 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,236 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,238 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,238 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,238 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,238 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,238 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,240 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,240 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,240 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,240 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,240 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,242 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,242 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,242 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,242 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:27</span><span class="selector-pseudo">:36</span>,242 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br></pre></td></tr></table></figure></p>
<p>当然也可以直接给Logger加Filter。<br>若为Handler加Filter则所有使用了该Handler的Logger都会受到影响。而为Logger添加Filter只会影响到自身。<br>注释掉<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[python] view plaincopy在CODE上查看代码片派生到我的代码片</span><br><span class="line"><span class="selector-id">#fh</span>.addFilter(<span class="attribute">filter</span>)   </span><br><span class="line">并取消如下几行的注释</span><br><span class="line">[python] view plaincopy在CODE上查看代码片派生到我的代码片</span><br><span class="line"><span class="selector-id">#logger</span>.addFilter(<span class="attribute">filter</span>)  </span><br><span class="line"><span class="selector-id">#logger1</span>.addFilter(<span class="attribute">filter</span>)  </span><br><span class="line"><span class="selector-id">#logger3</span>.addFilter(<span class="attribute">filter</span>)  </span><br><span class="line"><span class="selector-id">#logger4</span>.addFilter(<span class="attribute">filter</span>)</span><br></pre></td></tr></table></figure></p>
<p>输出结果<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,746 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,746 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,746 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,746 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,748 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,748 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,748 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,748 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,751 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,751 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,751 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,751 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,753 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,753 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,753 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,753 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,754 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,754 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,754 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,754 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger4</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,755 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,755 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,755 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,755 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,755 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">DEBUG</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">debug</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,757 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,757 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,757 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,757 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,757 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">INFO</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">info</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,759 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,759 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,759 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,759 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,759 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">WARNING</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">warning</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,761 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,761 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,761 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,761 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,761 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">ERROR</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">error</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,762 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,762 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,762 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,762 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br><span class="line">2014<span class="selector-tag">-05-06</span> 15<span class="selector-pseudo">:32</span><span class="selector-pseudo">:10</span>,762 <span class="selector-tag">-</span> <span class="selector-tag">mylogger</span><span class="selector-class">.child1</span><span class="selector-class">.child2</span><span class="selector-class">.child3</span> <span class="selector-tag">-</span> <span class="selector-tag">CRITICAL</span> <span class="selector-tag">-</span> <span class="selector-tag">logger5</span> <span class="selector-tag">critical</span> <span class="selector-tag">message</span></span><br></pre></td></tr></table></figure></p>
<p>发现root、mylogger、mylogger.child1的输出全部被过滤掉了。</p>
<p>除了直接在程序中设置Logger，Handler,Filter,Formatter外还可以<br>四、将这些信息写进配置文件中。</p>
<p>例如典型的logging.conf<br><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[<span class="name">python</span>] view plaincopy在CODE上查看代码片派生到我的代码片</span><br><span class="line">[<span class="name">loggers</span>]  </span><br><span class="line">keys=root,simpleExample  </span><br><span class="line">  </span><br><span class="line">[<span class="name">handlers</span>]  </span><br><span class="line">keys=consoleHandler  </span><br><span class="line">  </span><br><span class="line">[<span class="name">formatters</span>]  </span><br><span class="line">keys=simpleFormatter  </span><br><span class="line">  </span><br><span class="line">[<span class="name">logger_root</span>]  </span><br><span class="line">level=DEBUG  </span><br><span class="line">handlers=consoleHandler  </span><br><span class="line">  </span><br><span class="line">[<span class="name">logger_simpleExample</span>]  </span><br><span class="line">level=DEBUG  </span><br><span class="line">handlers=consoleHandler  </span><br><span class="line">qualname=simpleExample  </span><br><span class="line">propagate=0  </span><br><span class="line">  </span><br><span class="line">[<span class="name">handler_consoleHandler</span>]  </span><br><span class="line">class=StreamHandler  </span><br><span class="line">level=DEBUG  </span><br><span class="line">formatter=simpleFormatter  </span><br><span class="line">args=(<span class="name">sys.stdout</span>,)  </span><br><span class="line">  </span><br><span class="line">[<span class="name">formatter_simpleFormatter</span>]  </span><br><span class="line">format=%(<span class="name">asctime</span>)s - %(<span class="name">name</span>)s - %(<span class="name">levelname</span>)s - %(<span class="name">message</span>)s  </span><br><span class="line">datefmt=</span><br></pre></td></tr></table></figure></p>
<p>程序可以这么写<br><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[<span class="name">python</span>] view</span><br><span class="line">import logging    </span><br><span class="line">import logging.config    </span><br><span class="line">    </span><br><span class="line">logging.config.fileConfig(<span class="string">"logging.conf"</span>)    # 采用配置文件     </span><br><span class="line">    </span><br><span class="line"># create logger     </span><br><span class="line">logger = logging.getLogger(<span class="string">"simpleExample"</span>)    </span><br><span class="line">    </span><br><span class="line"># <span class="string">"application"</span> code     </span><br><span class="line">logger.debug(<span class="string">"debug message"</span>)    </span><br><span class="line">logger.info(<span class="string">"info message"</span>)    </span><br><span class="line">logger.warn(<span class="string">"warn message"</span>)    </span><br><span class="line">logger.error(<span class="string">"error message"</span>)    </span><br><span class="line">logger.critical(<span class="string">"critical message"</span>)</span><br></pre></td></tr></table></figure></p>
<p>五、多模块使用logging<br>logging模块保证在同一个python解释器内，多次调用logging.getLogger(‘log_name’)都会返回同一个logger实例，即使是在多个模块的情况下。<br>所以典型的多模块场景下使用logging的方式是在main模块中配置logging，这个配置会作用于多个的子模块，<br>然后在其他模块中直接通过getLogger获取Logger对象即可。<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">main.<span class="keyword">py</span>：</span><br><span class="line">[<span class="keyword">python</span>] <span class="keyword">view</span> plaincopy在CODE上查看代码片派生到我的代码片</span><br><span class="line">import logging    </span><br><span class="line">import logging.config    </span><br><span class="line">    </span><br><span class="line">logging.config.fileConfig(<span class="string">'logging.conf'</span>)    </span><br><span class="line">root_logger = logging.getLogger(<span class="string">'root'</span>)    </span><br><span class="line">root_logger.<span class="keyword">debug</span>(<span class="string">'test root logger...'</span>)    </span><br><span class="line">    </span><br><span class="line">logger = logging.getLogger(<span class="string">'main'</span>)    </span><br><span class="line">logger.info(<span class="string">'test main logger'</span>)    </span><br><span class="line">logger.info(<span class="string">'start import module \'mod\'...'</span>)    </span><br><span class="line">import <span class="keyword">mod</span>    </span><br><span class="line">    </span><br><span class="line">logger.<span class="keyword">debug</span>(<span class="string">'let\'s test mod.testLogger()'</span>)    </span><br><span class="line"><span class="keyword">mod</span>.testLogger()    </span><br><span class="line">    </span><br><span class="line">root_logger.info(<span class="string">'finish test...'</span>)</span><br></pre></td></tr></table></figure></p>
<p>子模块mod.py：</p>
<pre><code>[python] view
import logging    
import submod    

logger = logging.getLogger(&apos;main.mod&apos;)    
logger.info(&apos;logger of mod say something...&apos;)    

def testLogger():    
    logger.debug(&apos;this is mod.testLogger...&apos;)    
    submod.tst()   
子子模块submod.py：
[python] view plaincopy在CODE上查看代码片派生到我的代码片
import logging    

logger = logging.getLogger(&apos;main.mod.submod&apos;)    
logger.info(&apos;logger of submod say something...&apos;)    

def tst():    
    logger.info(&apos;this is submod.tst()...&apos;)
</code></pre>
            <div class="clearfix"></div>
            <hr class="nogutter">
        </div>
        <nav class="pagination" role="pagination">
    
    <a class="pull-left" href="/2015/09/12/Flask-Admin入门/" style="float: left;">
        ← Flask-Admin入门
    </a>
    
    
    <a class="pull-right" href="/2015/08/25/MySql常用命令总结/">
        MySql常用命令总结 →
    </a>
    
</nav>

        <div class="duoshuo">
<div class="ds-thread" data-thread-key="2015/09/04/Python-logging模块详解/" data-title="Python logging模块详解" data-url="http://yoursite.com/2015/09/04/Python-logging模块详解/"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"duoshuo_name"};
(function() {
	var ds = document.createElement('script');
	ds.type = 'text/javascript';ds.async = true;
	ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
	ds.charset = 'UTF-8';
	(document.getElementsByTagName('head')[0] 
	 || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script>
</div>
    </div>
</section>


      
<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By 钟蔚蔚. All Rights Reserved.
                </p>
                <p>Theme By <a href="//go.kieran.top" style="color: #767D84">Kieran</a></p>
            </div>
            <div class="social">
                <ul>
                    
                    <li><a href="https://github.com/cspilgrimzww" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>
                    
                    
                    
                    
                    
                </ul>
            </div>
            <div class="clearfix"> </div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->
      <!-- Load our scripts -->
        
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };
    
    resizeHero();
    
    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/jquery.flexslider-min.js"></script><!-- Flexslider plugin -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->

<!-- Initiate flexslider plugin -->
<script type="text/javascript">
    $(document).ready(function($) {
      $('.flexslider').flexslider({
        animation: "fade",
        prevText: "",
        nextText: "",
        directionNav: true
      });
    });
</script>

</body>
</html>
